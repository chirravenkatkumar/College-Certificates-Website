<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload History</title>
    <link rel="stylesheet" href="/styles/history.css">
</head>
<body>
    <div class="container">
        <h1>Upload History</h1>
        <% if (history.length > 0) { %>
            <div class="history-list">
                <% history.forEach(item => { %>
                    <button class="history-item" data-pdf="<%= item.Pdf_path %>" data-xlsx="<%= item.xlsx_path %>">
                        <%= new Date(item.timestamp).toLocaleString() %>
                    </button>
                <% }); %>
            </div>
        <% } else { %>
            <p class="no-history">No upload history available.</p>
        <% } %>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const historyItems = document.querySelectorAll('.history-item');
        
            historyItems.forEach(item => {
                item.addEventListener('click', function() {
                    const pdfPath = this.getAttribute('data-pdf');
                    const xlsxPath = this.getAttribute('data-xlsx');
        
                    // You can implement the logic here to view/download the files
                    // For simplicity, let's just log the paths for now
                    console.log('PDF Path:', pdfPath);
                    console.log('XLSX Path:', xlsxPath);
                });
            });
        });
        
    </script>
</body>
</html>
